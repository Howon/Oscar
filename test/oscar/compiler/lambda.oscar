message testNow()


actor Tester() {
  
  receive = {
    | testNow() => {
        Println(apply((x:int) => int = { return x - 10; }, 11));
    }
  }
}

def apply(f: lambda (int) => int, input: int) => int = {
  return f(input);
}

def main() => unit = {
  actor<Tester> lambdaTester = spawn actor<Tester>();
  message<testNow>() |> lambdaTester;
}
